---

import Page from './Page.astro';
import Head from '../components/Head.astro';
import i18n from '../utils/i18n.js';

const { t } = i18n('en');
const { page } = Astro.props;

---


<html lang="en">
	<head>
    <Head title={t('siteTitle')} type="website" description={t('siteDescription')} />
    <script data-page={page}>
      const { page } = document.currentScript.dataset;
      let language = localStorage.getItem('lang');
      if (!language) {
        /*if (/^pt\b/.test(navigator.language))*/
          /*language = 'pt';*/
        /*else*/
          language = 'en';
      }
      window.location.pathname = `/blog/${language}${page}`;
    </script>
  </head>
</html>
